<html>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Pueblo Viejo ERP</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="vendor\bootstrap\css\bootstrap.min.css" crossorigin="anonymous">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/estilos.css">
  
  <title>
  Tablero de seguimiento
</title>


<div class="row fondo">
  <div class="col-sm-12 col-md-12 col-lg-12">
    <h1 class="text-center text-uppercase">Tablero de produccion</h1>
  </div>
</div>
<div class="row">
  <div id="cuadro1" class="col-sm-12 col-md-12 col-lg-12">
    <div class="col-sm-offset-2 col-sm-8">
      <h3 class="text-center"> <small class="mensaje"></small></h3>
    </div>
    <div class="table-responsive col-sm-12">
     
      <table id="dt_procesos" class="table table-bordered table-hover" cellspacing="0" width="100%">
        <thead>
          <tr>
            <th>id_produccion</th>
            <th>Tipo produccion</th>
            <th>Cuando solicito</th>
            <th>Orden de produccion</th>
            <th>Numero de parte</th>
            <th>Cantidad requerida</th>
            <th>fecha requerida</th>
            <th>Metricas</th>
            <th>Ingenieria</th>
            <th>Calidad</th>
            <th>Forma 72</th>
          </tr>
        </thead>
      </table>
    </div>
  </div>
</div>

<!-- Modal para la forma 72 -->
<div class='modal fade bd-example-modal-lg' id='modal_dash' tabindex='1' role='dialog' aria-labelledby='myExtraLargeModalLabel' aria-hidden='true'>
  <div class='modal-dialog modal-lg'>
    <div class='modal-content'>
      <div class='container'>
        <div class='modal-header'>
          <h4>Reporte diario de producción</h4><button class='close' data-dismiss='modal'>×</button>

          <br>


        </div>
        <p style="text-align:right">Fecha: <label id="fechaactual"></label></p>
        <table class='table table-hove table-condensed table-bordered'>
          <thead class="thead-dark">
            <tr>
              <th colspan="2">Datos de produccion</th>
            </tr>
            <tr>
              <td>ID Empleado:</td>
              <td><input type='text' id='id_empleado' value=''><button id="seleccionaempleado" class="btn-primary btn-sm">+</button></td>
            </tr>
            <tr>
              <td>Orden de Producción:</td>
              <td><input type='text' id='orden_72' value=""></td>
            </tr>
            <tr>
            </tr>
            <tr>
              <td>Maquina: </td>
              <td><input id='maquina72' type='text'><button id="seleccionamaquinaproceso" class="btn-primary btn-sm">+</button></td>
            </tr>
          </thead>
        </table>
        <br><br>
        <table class='table table-hove table-condensed table-bordered'>
          <thead class="thead-dark">
            <tr>
              <th>Checklist inicio de turno:</th>
              <th>Check</th>
            </tr>
            <tr>
              <td>Piezas PAP: </td>
              <td><input type="checkbox" id="PAP" value="PAP" class="chk72"></td>
            </tr>
            <tr>
              <td>Paquetes de operaciones completo:</td>
              <td><input type="checkbox" id="POC" value="POC" class="chk72"></td>
              </td>
            </tr>
            <tr>
              <td>Area de trabajo limpia:</td>
              <td><input type="checkbox" id="ATL" value="ATL" class="chk72"></td>
            </tr>
            <tr>
              <td>Caja de scrap y reproceso sin material:</td>
              <td><input type="checkbox" id="SCRAP" value="SCRAP" class="chk72"></td>
            </tr>
            <tr>
              <td>Equipo de medicion vigente:</td>
              <td><input type="checkbox" id="EMV" value="EMV" class="chk72"></td>
            </tr>
        </table>
        <br>
        <table id="tabla72" class="table table-hove  table-condensed table-bordered responsive-table">
          <thead class="thead-dark">
            <tr>
              <th colspan="2">Horas</th>
              <th colspan="4">Piezas por hora</th>
            </tr>
            <tr>
              <td>Tarea</td>
              <td>Fecha inicial y final</td>
              <td>Progreso</td>
              <td>Conforme</td>
              <td>Reproceso</td>
              <td>Scrap</td>
            </tr>
          <tbody>
          </tbody>
          </thead>
        </table>
        <button data-toggle="modal" data-target="#modaldeforma72" text-align='center' class="btn btn-secondary btn-lg btn-block">Agregar registro en tabla</button>
        <br>
        <table id="tablaparos" class="table table-bordered table-hover" cellspacing="0" cellpadding="0" width="100%">
            <thead class="thead-dark">
            <tr>
              <th colspan="2">Agregar paro de maquinas</th>
            </tr>  
            <tr>
            <td width="30%">Tiempo de demora (Horas)</td>
            <td width="70%">Motivo</td>    
          </tr>
          <tbody>
          </tbody>
            </thead>
          </table>
          <button data-toggle="modal" data-target="#modalparo" text-align='center' class="btn btn-secondary btn-lg btn-block">Agregar paro de maquinas</button>
          <br><br>
          <button id="guardala72" class="btn btn-primary btn-lg btn-block">Guardar registro</button>
        <br><br>
      </div>
    </div>
    <br>
    <br>
    <br>
    <br>
    <br>
  </div>
</div>
<!-- Termina modal de forma 72 -->

 <!-- Modal para agregar datos a la tabla -->

 <div class="modal fade bd-example-modal-lg" id="modaldeforma72" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">

      <div class="table-responsive col-sm-12">
        <div class='modal-header'>
          <h4>Agregue datos a la tabla</h4>
          <button id="closemodaldeforma72" style="text-align:right" class="btn btn-danger">×</button>
        </div>
        <table id="tabla721" class="table table-hove  table-condensed table-bordered responsive-table">
          <thead class="thead-dark">
            <tr>
              <th colspan="2">Horas</th>
              <th colspan="4">Piezas por hora</th>
            </tr>
            <tr>
              <td>Fecha inicial y final</td>
              <td>Progreso</td>
              <td>Conforme</td>
              <td>Reproceso</td>
              <td>Scrap</td>
            </tr>

            <tr>
              <td><input id="rango" type="text" class="datetime" name="f_inicio" value=""></td>
              <td><input id="progress" type="number" name="progreso"></td>
              <td><input id="conforme" type="number" name="conforme"></td>
              <td><input id="reproceso" type="number" name="reproceso"></td>
              <td><input id="scrap" type="number" name="scrap"></td>
            </tr>
          </thead>
        </table>
        <table class='table table-hove table-condensed table-bordered'>
          <thead class="thead-dark">
            <tr>
              <th>Seleccione la tarea en la que trabajo:</th>
            </tr>
            <tr>
              <td>
                <input id="tareaActual" type="text"> <button id="seleccionatarea">+</button>
              </td>
            </tr>
        </table>
        <button id="guardaentabla" class="btn btn-secondary btn-lg btn-block">Aceptar</button>
        <br>
        <br>
      </div>
    </div>
  </div>
</div>


<!--Modal para seleccionar empleado-->
<div class="modal fade bd-example-modal-xl" id="modalempleados" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="container">
        <div class="table-responsive col-sm-12">
          <div class='modal-header'>
            <h4>Seleccione el operador</h4>
            <button id="closemodal" style="text-align:right" class="btn btn-danger">×</button>
          </div>
          <br>
          <table id="tablaempleados" class="table table-bordered table-hover" cellspacing="0" width="100%">
            <thead class="thead-dark">
              <tr>
                <th>ID Operador</th>
                <th>Nombre</th>
                <th>Seleccionar</th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Agregar paro de maquina -->
<div class="modal fade bd-example-modal-xl" id="modalparo" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="container">
        <div class="table-responsive col-sm-12">
          <div class='modal-header'>
            <h4>Agregue el motivo de paro de maquina</h4>
            <button id="closemodalparo" style="text-align:right" class="btn btn-danger">×</button>
          </div>
          <label for="comment">Seleccione el intervalo de paro de maquina</label>
          <input class="datetime" id="tiempoparo">
          <br>
          <label for="comment">Comment:</label>
        <textarea class="form-control" rows="5" id="comment"></textarea>
        <br>
        <br>
        <button id="guardaparo" class="btn btn-secondary btn-lg btn-block">Guardar</button>
        <br>
        </div>
      </div>
    </div>
  </div>
</div>
    <script>

      $(document).ready(function () {
        listar();
      });

      var listar = function () {
        var table = $("#dt_procesos").DataTable({
          "destroy": true,
          "ajax": {
            "method": "POST",
            "url": "listaordenproduccion.php"
          },
          "columns": [{
            "data": "id_produccion"
          }, {
            "data": "tipo_produccion"
          }, {
            "data": "fecha_solicitud"
          }, {
            "data": "orden_produccion"
          }, {
            "data": "numero_parte"
          }, {
            "data": "cantidad_requerida"
          }, {
            "data": "fecha_requerida"
          }, {
            "defaultContent": "<button>Metrica</button>"
          }, {
            "defaultContent": "<button>Ingenieria</button>"
          }, {
            "defaultContent": "<button>Calidad</button>"
          }, {
            "defaultContent": "<button id='forma'>Forma 72</button>"
          }]
        });
        obtener_orden("#dt_procesos tbody", table);
      }

      var obtener_orden = function (tbody, table) {
        $(tbody).on("click", "#forma", function () {
          $("#modal_dash").modal();
        })
      }






    </script>









    <script src="js/jquery-1.12.3.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.dataTables.min.js"></script>
    <script src="js/dataTables.bootstrap.js"></script>
    <!--botones DataTables-->
    <script src="js/dataTables.buttons.min.js"></script>
    <script src="js/buttons.bootstrap.min.js"></script>
    <!--Libreria para exportar Excel-->
    <script src="js/jszip.min.js"></script>
    <!--Librerias para exportar PDF-->
    <script src="js/pdfmake.min.js"></script>
    <script src="js/vfs_fonts.js"></script>
    <!--Librerias para botones de exportación-->
    <script src="js/buttons.html5.min.js"></script>


</html>